<!-- Save Confirm Modal-->
@if (ShowModal)
{
    <div class="fixed inset-0 bg-black bg-opacity-50 z-[60] flex items-center justify-center">
        <div class="bg-white dark:bg-gray-800 rounded-lg max-w-md w-full shadow-xl p-6 animate-modal-show">
            <div class="text-center mb-6">
                <div class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-100 text-blue-500 mb-4">
                    @if (IsSaving)
                    {
                        <i class="fas fa-circle-notch fa-spin text-2xl"></i>
                    }
                    else
                    {
                        <i class="fas fa-question-circle text-2xl"></i>
                    }
                </div>
                <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-2">
                    @if (IsSaving)
                    {
                        <span>@(IsEdit ? "Güncelleniyor..." : "Ekleniyor...")</span>
                    }
                    else
                    {
                        <span>@(IsEdit ? "Atık Kutusunu Güncelle" : "Atık Kutusu Ekle")</span>
                    }
                </h3>
                <p class="text-gray-500 dark:text-gray-400">
                    @if (IsSaving)
                    {
                        <span>@(IsEdit ? "Atık kutusu güncelleniyor, lütfen bekleyin..." : "Yeni atık kutusu ekleniyor, lütfen bekleyin...")</span>
                    }
                    else
                    {
                        <span>@(IsEdit ? "Atık kutusu bilgilerini güncellemek istediğinize emin misiniz?" : "Yeni atık kutusu eklemek istediğinize emin misiniz?")</span>
                    }
                </p>
            </div>
            <div class="flex justify-between">
                <button class="px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg text-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
                        @onclick="OnCancel"
                        disabled="@IsSaving">
                    İptal
                </button>
                <button class="px-4 py-2 bg-primary-500 hover:bg-primary-600 rounded-lg text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center"
                        @onclick="OnConfirm"
                        disabled="@IsSaving">
                    @if (IsSaving)
                    {
                        <i class="fas fa-circle-notch fa-spin mr-2"></i>
                        <span>@(IsEdit ? "Güncelleniyor..." : "Ekleniyor...")</span>
                    }
                    else
                    {
                        <span>@(IsEdit ? "Güncelle" : "Ekle")</span>
                    }
                </button>
            </div>
        </div>
    </div>
}

@code {
    [Parameter] public bool ShowModal { get; set; }
    [Parameter] public bool IsEdit { get; set; }
    [Parameter] public bool IsSaving { get; set; } // YENİ PARAMETRE
    [Parameter] public EventCallback OnCancel { get; set; }
    [Parameter] public EventCallback OnConfirm { get; set; }
}